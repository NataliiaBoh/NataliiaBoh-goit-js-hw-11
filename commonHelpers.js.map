{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarcup(arr) {\n\nreturn arr.map(({id, webformatURL, largeimageURL, tags, likes, views, comments, downloads}) =>\n    `<li class=\"images-list-item\" data-id='${id}'>\n    <a class=\"images-list-link\" href=\"${largeimageURL}\">\n        <img class=\"images-list-image\" src=\"${webformatURL}\" alt=\"${tags}\"></img>\n    </a>\n    <div class=\"tumb\">\n        <div class=\"block\">\n            <h2 class=\"tittle\">Likes</h2>\n            <p class=\"text\">${likes}</p>\n        </div>\n        <div class=\"block\">\n            <h2 class=\"tittle\">Views</h2>\n            <p class=\"text\">${views}</p>\n        </div>\n        <div class=\"block\">\n            <h2 class=\"tittle\">Comments</h2>\n            <p class=\"text\">${comments}</p>\n        </div>\n        <div class=\"block\">\n            <h2 class=\"tittle\">Downloads</h2>\n            <p class=\"text\">${downloads}</p>\n        </div>\n    </div>\n</li>`\n\n\n).join('')\n}\n","\nexport function searchImages(value) {\n    const BASE_URL = `https://pixabay.com/api/`;\n    const API_KEY = \"43313350-287c14b2000f5e13b9dad3a59\";\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: value,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    })\n        \n    return fetch(`${BASE_URL}?${params}`)\n    .then(recponse => {\n        if(!recponse.ok) {\n            throw new Error(recponse.statusText)\n        }\n      \n        return recponse.json();\n    } );\n}\n\n       ","import { createMarcup } from \"./js/render-functions\";\nimport { searchImages } from \"./js/pixabay-api\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst formEl = document.querySelector(\".js-search-form\");\nconst imagesList = document.querySelector(\".js-images-list\");\nconst loaderEl = document.querySelector(\".loader\");\n\nloaderEl.style.borderColor = 'white';\nloaderEl.style.borderBottomColor = 'transparent';\n\nformEl.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    \n    imagesList.innerHTML = '';\n    loaderEl.style.borderColor = 'black';\n    loaderEl.style.borderBottomColor = 'transparent';\n\n  const searchInput = event.currentTarget.querySelector('.search-input').value;\n\n       searchImages(searchInput)\n       .then(data => {\n        loaderEl.style.borderColor = 'white';\nloaderEl.style.borderBottomColor = 'transparent';\n        \n        if (!data.hits.length) {\n            iziToast.error({title: 'Error', messege: 'Sorry, there are no images matching your search query. Please try again!',})\n        }\n        return data;\n    })\n      \n        .then (data => {imagesList.insertAdjacentHTML('beforeend', createMarcup(data.hits))\n\n        const lightbox = new SimpleLightbox('.images-list-item a', {\n          captions: true,\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n\n        lightbox.refresh();\n       searchInput = '';\n    })\n      \n    \n\n    .catch(error => {\n      loaderEl.style.display = 'none';\n      if(error.length != undefined) {\n        iziToast.error({\n            title: 'Error',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n      }\n      \n    });\n}\n"],"names":["createMarcup","arr","id","webformatURL","largeimageURL","tags","likes","views","comments","downloads","searchImages","value","BASE_URL","API_KEY","params","recponse","formEl","imagesList","loaderEl","handleSubmit","event","searchInput","data","iziToast","SimpleLightbox","error"],"mappings":"6vBAAO,SAASA,EAAaC,EAAK,CAElC,OAAOA,EAAI,IAAI,CAAC,CAAC,GAAAC,EAAI,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACrF,yCAAyCP,CAAE;AAAA,wCACPE,CAAa;AAAA,8CACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8BAK1CC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,8BAIRC,CAAS;AAAA;AAAA;AAAA,MAMvC,EAAE,KAAK,EAAE,CACT,CC5BO,SAASC,EAAaC,EAAO,CAChC,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EACnC,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGvC,OAAOA,EAAS,MACxB,EACA,CCZA,MAAMC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAW,SAAS,cAAc,SAAS,EAEjDA,EAAS,MAAM,YAAc,QAC7BA,EAAS,MAAM,kBAAoB,cAEnCF,EAAO,iBAAiB,SAAUG,CAAY,EAE9C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpBH,EAAW,UAAY,GACvBC,EAAS,MAAM,YAAc,QAC7BA,EAAS,MAAM,kBAAoB,cAErC,MAAMG,EAAcD,EAAM,cAAc,cAAc,eAAe,EAAE,MAElEV,EAAaW,CAAW,EACvB,KAAKC,IACLJ,EAAS,MAAM,YAAc,QACrCA,EAAS,MAAM,kBAAoB,cAEtBI,EAAK,KAAK,QACXC,EAAS,MAAM,CAAC,MAAO,QAAS,QAAS,2EAA4E,EAElHD,EACV,EAEI,KAAMA,GAAQ,CAACL,EAAW,mBAAmB,YAAajB,EAAasB,EAAK,IAAI,CAAC,EAEjE,IAAIE,EAAe,sBAAuB,CACzD,SAAU,GACV,aAAc,MACd,aAAc,GACxB,CAAS,EAEQ,QAAO,EACjBH,EAAc,EACrB,CAAK,EAIA,MAAMI,GAAS,CACdP,EAAS,MAAM,QAAU,OACtBO,EAAM,QAAU,MACjBF,EAAS,MAAM,CACX,MAAO,QACP,QACE,0EACd,CAAW,CAGX,CAAK,CACL"}